<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfect Pizza</title>
    <link rel="stylesheet" href="styles.css">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script>src="index.js"</script>
</head>

<body x-data="{
    totalCost: 0,
    message: '',
    modal: false,
    cart: {
        large: 0,
        medium: 0,
        small: 0,
      },

    largeCount : 0,
    largePrice: 90,
    paymentAmount: 0,
    largePizzaTotalPrice:0,

    addLargePizza(){
        this.largeCount++;
        this.largePizzaTotalPrice = this.largePrice * this.largeCount;
        this.cart.large++;
    },
    subtractLargePizza(){
        if (this.largeCount > 0){
            this.largeCount--;
           this.largePizzaTotalPrice = this.largePrice * this.largeCount;
           this.cart.large--;
        }
        
    },
    
    mediumCount: 0,
    mediumPrice: 60,
    mediumPizzaTotalPrice: 0,

    addMediumPizza(){
        this.mediumCount++;
        this.mediumPizzaTotalPrice = this.mediumPrice * this.mediumCount;
        this.cart.medium++;
    },
    subtractMediumPizza(){
        if (this.mediumCount > 0) {
            this.mediumCount--;
            this.mediumPizzaTotalPrice = this.mediumPrice * this.mediumCount;
            this.cart.medium--;
        }
        
    },

    smallCount: 0,
    smallPrice: 35,
    smallPizzaTotalPrice: 0,
    addSmallPizza(){
        this.smallCount++;
        this.smallPizzaTotalPrice = this.smallPrice * this.smallCount;
        this.cart.small++;
    },
    subtractSmallPizza(){
        if (this.smallCount > 0){
            this.smallCount--;
            this.smallPizzaTotalPrice = this.smallPrice * this.smallCount;
            this.cart.small--;
        }   
    }


}">
    <h1>Perfect Pizza</h1>

    <section class="cart">
        <h2>Shopping cart</h2>
        <div style="display: flex; align-items: center;" >

        <h4>Large Pizza</h>    
        <button @click="addLargePizza()">+</button>
        <button @click="subtractLargePizza()">-</button>
        <span x-text="'R' + (largePrice * cart.large)" style="margin-right: 10px;">R90</span>

        </div>
    
        <div>
          <h4>Medium Pizza</h>
          <button @click="addMediumPizza()">+</button>
          <button @click="subtractMediumPizza()">-</button>
          <span x-text="'R' + (mediumPrice * cart.medium)" style="margin-right: 10px;">R60</span>
        </div> 
    
        <div>
          <h4>Small Pizza</h>
          <button @click="addSmallPizza()">+</button>
          <button @click="subtractSmallPizza()">-</button>
          <span x-text="'R' + (smallPrice * cart.small)" style="margin-right: 10px;">R35</span>
        </div>

        <div style="display: flex; align-items: center;">
            <h4>Total cost:</h5>
            <span x-text=" 'R' + (totalCost = (largePrice * cart.large) + (mediumPrice * cart.medium) + (smallPrice * cart.small))"></span>
        </div>
        <hr>
        <template x-if=" totalCost > 0 ">
            <div x-show="true">
                <button @click="modal = true">Check out</button>
            </div>
        </template>
        
        <div x-show="modal" @click.outside="modal = false" style="display: flex; align-items: center;">
            <div x-text="message"></div>
            <h5>Payment amount:</h5>
            <input type="text" x-model="paymentAmount" class="theInputValue" style="margin: 0;">
            <button @click="if(paymentAmount >= totalCost){
                message='Enjoy your pizzas';
            }else{
                message = 'Sorry - that is not enough money!'
            }
            ">Comfirm the amount</button>
        </div>
    <br>


    </section>

<section class="pizza">
    <div class="large_pizza">
        <h2>Large Pizza</h2>
         <img src= "Pizzaimages.jpg" class="image1">
         <h3>R90.00</h3>
         <p>Large margeritha pizza with 3 toppings max.</p>
         <p>3 meat toppings max.</p>
         <p> 3 or less other toppings.</p>
        <button @click="addLargePizza()">Add to cart</button>
    </div>


    <div class="medium_pizza">
        <h2>Medium Pizza</h2>
        <img src= "Pizzaimages.jpg" class="image2"> 
        <h3>R60.00</h3>
          <p>Medium margeritha pizza with 3 toppings max.</p>
          <p>2 or less meat toppings.</p>
          <p>3 or less other toppings.</p>
          <button @click="cart.medium++">Add to cart</button>
    </div> 

    <div class="small_pizza">
        <h2>Small Pizza</h2>
        <img src= "Pizzaimages.jpg" class="image3">
        <h3>R35.00</h3>
        <p>Small pizza with 3 toppings.</p>
        <p>1 meat topping.</p>
        <p>3 or less other toppings.</p>
        <button @click="cart.small++">Add to cart</button>
    </div>
</section>

    <div class="contact">
       <h2>Contact details</h2>
       <p>Contact us at: (021)-541-1000</p>
       <p>info@perfectpizza.co.za</p>
       <p>/fb</p>
       <p>/insta</p>
       <p>@perfectpizza</p>
    </div>
    
</body>
</html>